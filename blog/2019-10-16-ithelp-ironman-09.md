---
date: "2019-10-16T00:09:00+0800"
tags: [ithelp-ironman]
---
# iT é‚¦å¹«å¿™éµäººè³½ DAY 23~30 æ•´åˆå¼çµ‚ç«¯æ©Ÿ

åœ¨ VS Code ä¸­ï¼Œä½ å¯ä»¥é–‹å•Ÿä¸€å€‹å¾ˆæ–¹ä¾¿çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿï¼Œå®ƒçš„é è¨­ç›®éŒ„å°±åœ¨ä½ ç›®å‰çš„å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œä½ ä¸éœ€è¦ç‚ºäº†åŸ·è¡Œä¸€å€‹ç°¡å–®çš„å‘½ä»¤åˆ—å·¥ä½œè€Œå¦å¤–æ‰“é–‹ä¸€å€‹çµ‚ç«¯æ©Ÿè¦–çª—ï¼Œç„¶å¾Œé‚„éœ€è¦è‡ªå·±æ‰‹å‹•åˆ‡æ›è³‡æ–™å¤¾ï¼

é–‹å•Ÿæ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼š

* ä½¿ç”¨å¿«æ·éµ ![](https://i.imgur.com/izURn5b.png)ï¼Œé€™å€‹æŒ‰éµåœ¨ `TAB` çš„ä¸Šæ–¹
* ä¸Šæ–¹å·¥å…·åˆ—ã€Œæª¢è¦–(V)ã€âœã€Œçµ‚ç«¯æ©Ÿã€
* é€éã€Œå°‹æ‰¾åŠåŸ·è¡Œæ‰€æœ‰å‘½ä»¤ã€![](https://i.imgur.com/EXvNZfc.png) ç„¶å¾Œè¼¸å…¥ `terminal` å°‹æ‰¾ä¸¦åŸ·è¡Œã€Œæª¢è¦–ï¼šåˆ‡æ›æ•´åˆå¼çµ‚ç«¯æ©Ÿã€æŒ‡ä»¤

![](https://i.imgur.com/veQmvfu.png)

> å‚™è¨»ï¼šå¦‚æœä½ é‚„æ˜¯æƒ³è¦é–‹å•Ÿå¤–éƒ¨çµ‚ç«¯æ©Ÿï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·éµ ![](https://i.imgur.com/J5Mxgc0.png) ä¾†æ‰“é–‹ä¸€å€‹å¤–éƒ¨çµ‚ç«¯æ©Ÿï¼Œè€Œä¸”å®ƒé‚„æœƒå¾ˆè²¼å¿ƒçš„å¹«ä½ åˆ‡æ›åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å–”ï¼

## ç®¡ç†å¤šå€‹çµ‚ç«¯æ©Ÿ

ä½ å¯ä»¥å»ºç«‹å¤šå€‹æ•´åˆå¼çµ‚ç«¯æ©Ÿï¼Œä½ å¯ä»¥è®“å®ƒå€‘æŒ‡å‘ä¸åŒè³‡æ–™å¤¾ï¼Œä¹Ÿå¯ä»¥åœ¨å¹¾å€‹çµ‚ç«¯æ©Ÿä¸­åˆ‡ä¾†åˆ‡å»ã€‚è¦å»ºç«‹ä¸€å€‹æ–°çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ–¹æ³•æ˜¯ï¼šæŒ‰ä¸‹æ•´åˆå¼çµ‚ç«¯æ©Ÿå³ä¸Šè§’çš„ `+` ç¬¦è™Ÿæˆ–æ˜¯ä½¿ç”¨å¿«æ·éµ ![](https://i.imgur.com/QJ1RHLP.png)ã€‚ç•¶ä½ æ–°å¢äº†ä¸€å€‹æ–°çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿä»¥å¾Œï¼Œä½ å°±å¯ä»¥é€éå³ä¸Šè§’çš„ä¸‹æ‹‰å¼é¸å–®ä¾†åˆ‡æ›çµ‚ç«¯æ©Ÿã€‚

![](https://i.imgur.com/XuaXoIE.png)

åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿå³ä¸Šçš„åƒåœ¾æ¡¶ç¬¦è™Ÿå‰‡æ˜¯å¯ä»¥åˆªé™¤ç›®å‰çš„çµ‚ç«¯æ©Ÿã€‚

> å°æŠ€å·§ï¼šå¦‚æœä½ æ˜¯å¤šå€‹æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„é‡åº¦ä½¿ç”¨è€…ï¼Œä½ å¯ä»¥è‡ªå·±æŒ‡å®šå–œæ­¡çš„å¿«æ·éµåˆ° `focusNext`ã€`focusPrevious`ã€`kill` æŒ‡ä»¤ï¼Œè®“ä½ å¯ä»¥åªé å¿«æ·éµå°±å¯ä»¥ç®¡ç†é€™äº›çµ‚ç«¯æ©Ÿã€‚

## åˆ†å‰²çµ‚ç«¯æ©Ÿ

ä½ å¯ä»¥æŠŠçµ‚ç«¯æ©Ÿä¸€åˆ†ç‚ºäºŒï¼Œç¬¬ä¸€å€‹æ–¹æ³•æ˜¯ä½¿ç”¨å¿«æ·éµ ![](https://i.imgur.com/7rjYBYY.png)ï¼Œç¬¬äºŒå€‹æ–¹æ³•æ˜¯æŒ‰ä¸‹æ•´åˆå¼çµ‚ç«¯æ©Ÿå³ä¸Šæ–¹çš„åˆ†å‰²æŒ‰éˆ•ã€‚

![](https://i.imgur.com/PTLvg9N.png)

ç•¶ä½ ç›®å‰çš„ç„¦é»åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„å…¶ä¸­ä¸€å€‹åˆ†å‰²æ™‚ï¼Œä½ å¯ä»¥é€éä»¥ä¸‹çš„æŒ‡ä»¤èˆ‡å¿«æ·éµä¾†ç§»å‹•ç„¦é»åŠèª¿æ•´å¤§å°ï¼š

| å¿«æ·éµ | æŒ‡ä»¤åç¨± | ä¸­æ–‡èªªæ˜ |
| ---: | --- | --- |
| ![](https://i.imgur.com/tzrPnE8.png) | Focus Previous Pane | èšç„¦ä¸Šä¸€å€‹çª—æ ¼ |
| ![](https://i.imgur.com/6ESD9F8.png) | Focus Next Pane | èšç„¦ä¸‹ä¸€å€‹çª—æ ¼ |
| æœªå®šç¾© | Resize Pane Left | èª¿æ•´çª—æ ¼å·¦æ–¹ |
| æœªå®šç¾© | Resize Pane Right | èª¿æ•´çª—æ ¼å³æ–¹ |
| æœªå®šç¾© | Resize Pane Up | èª¿æ•´çª—æ ¼ä¸Šæ–¹ |
| æœªå®šç¾© | Resize Pane Down | èª¿æ•´çª—æ ¼ä¸‹æ–¹ |

## è¨­å®š

åœ¨ Linux å’Œ macOS ç³»çµ±ä¸Šï¼Œçµ‚ç«¯æ©Ÿé è¨­æœƒä½¿ç”¨ç’°å¢ƒè®Šæ•¸ `$SHELL` æ‰€æŒ‡å®šçš„ shellï¼Œåœ¨ Windows 10 ä¸Šæœƒé è¨­ä½¿ç”¨ PowerShellï¼Œæ¯”è¼ƒèˆŠç‰ˆçš„ Windows é è¨­ä½¿ç”¨ cmd.exeã€‚ä½ å¯ä»¥é€éåœ¨ä½¿ç”¨è€…è¨­å®šä¸­çš„ `terminal.integrated.shell.*` ä¾†è¨­å®šã€‚å¦‚æœä½ éœ€è¦å‚³éé¡å¤–åƒæ•¸çµ¦çµ‚ç«¯æ©Ÿçš„ shellï¼Œä½ å¯ä»¥é€éåœ¨ä½¿ç”¨è€…è¨­å®šä¸­çš„ `terminal.integrated.shellArgs.*` ä¾†è¨­å®šã€‚

> å‚™è¨»ï¼šç‚ºäº†å®‰å…¨æ€§è‘—æƒ³ï¼Œé€™å¹¾å€‹è¨­å®šåœ¨å·¥ä½œå€è¨­å®šä¸­éƒ½æ˜¯ç„¡æ•ˆçš„ï¼Œåªèƒ½å¯«åœ¨ä½¿ç”¨è€…è¨­å®šä¸­ã€‚

### Windows

å°æ–¼ Windows çš„ç³»çµ±ï¼ŒVS Code æä¾›äº†ä¸€å€‹å¾ˆæ–¹ä¾¿çš„æŒ‡ä»¤è®“ä½ å¯ä»¥é¸æ“‡é è¨­çš„ Shellï¼Œé€™å€‹æŒ‡ä»¤æœƒå˜—è©¦æ‰¾å‡ºå®‰è£åœ¨é è¨­è·¯å¾‘çš„ Shellï¼šã€ŒCommand Promptã€ã€ã€ŒPowerShellã€ã€ã€ŒPowerShell Coreã€ã€ã€ŒGit Bashã€ã€ã€ŒWSL Bashã€ï¼Œä¸¦ä¸”æä¾›ä¸€å€‹ä¸‹æ‹‰å¼é¸å–®çµ¦ä½ é¸å–é è¨­çš„ Shellã€‚ä½ å¯ä»¥é€éã€Œå°‹æ‰¾åŠåŸ·è¡Œæ‰€æœ‰å‘½ä»¤ã€![](https://i.imgur.com/EXvNZfc.png) ç„¶å¾Œè¼¸å…¥ `terminal` å°‹æ‰¾ä¸¦åŸ·è¡Œã€ŒTerminalï¼šé¸å–é è¨­æ®¼å±¤ã€æŒ‡ä»¤ã€‚

å°±è·Ÿå…¶ä»–ä½œæ¥­ç³»çµ±ä¸€æ¨£ï¼Œä½ å¯ä»¥åœ¨è¨­å®šæª”ä¸­è©³ç´°çš„æŒ‡å®šåˆ°åº•è¦ç”¨å“ªå€‹å¯åŸ·è¡Œæª”å¦‚ä¸‹ï¼š

```json
// Command Prompt
"terminal.integrated.shell.windows": "C:\\Windows\\System32\\cmd.exe"
// PowerShell
"terminal.integrated.shell.windows": "C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe"
// Git Bash
"terminal.integrated.shell.windows": "C:\\Program Files\\Git\\bin\\bash.exe"
// Bash on Ubuntu (on Windows)
"terminal.integrated.shell.windows": "C:\\Windows\\System32\\bash.exe"
```

> å‚™è¨»ï¼šç‚ºäº†è¦åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œï¼Œé€™å€‹ Shell çš„å¯åŸ·è¡Œæª”å¿…é ˆè¦æ˜¯ä¸€å€‹çµ‚ç«¯æ©Ÿçš„æ‡‰ç”¨ç¨‹å¼ï¼Œå®ƒçš„ `stdin/stdout/stderr` éƒ½éœ€è¦å¯ä»¥è¢«é‡æ–°å°å‘ã€‚

> å°æŠ€å·§ï¼šæ•´åˆå¼çµ‚ç«¯æ©Ÿæœƒä½¿ç”¨å’Œ VS Code ä¸€æ¨£çš„æ¬Šé™ä¾†åŸ·è¡Œï¼Œå¦‚æœè¦éœ€è¦æ•´åˆå¼çµ‚ç«¯æ©Ÿä»¥ç³»çµ±ç®¡ç†å“¡èº«ä»½æˆ–æ˜¯å…¶ä»–æ¬Šé™åŸ·è¡Œï¼Œä½ å¯ä»¥åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨ç³»çµ±å…§å»ºçš„å·¥å…·ï¼Œå¦‚ `runas.exe` ç­‰â€¦ã€‚

### Shell åƒæ•¸

ä½ å¯ä»¥è¨­å®šåœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿå•Ÿå‹•æ™‚ï¼Œå¸¶ä»€éº¼åƒæ•¸çµ¦å®ƒã€‚

èˆ‰ä¾‹ä¾†èªªï¼Œæƒ³è®“ bash ä»¥ç™»å…¥ shell çš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯æœƒå…ˆå¹«ä½ åŸ·è¡Œ `.bash_profile`ï¼‰åŸ·è¡Œçš„è©±ï¼Œä½ éœ€è¦å¸¶ `-l` çš„åƒæ•¸çµ¦å®ƒï¼š

```json
// Linux
"terminal.integrated.shellArgs.linux": ["-l"]
```

### ä½¿ç”¨è®Šæ•¸

åœ¨ `shell`ã€`shellArgs`ã€`env`ã€`cwd` é€™äº›çµ‚ç«¯æ©Ÿçš„åƒæ•¸ä¸­éƒ½æ”¯æ´ä½¿ç”¨è®Šæ•¸ï¼š

```json
// Open the terminal in the currently opened file's directory
"terminal.integrated.cwd": "${fileDirname}"
```

ä½ å¯ä»¥åœ¨[é€™å€‹é€£çµ](https://code.visualstudio.com/docs/editor/variables-reference)çœ‹åˆ°å®Œæ•´å¯ç”¨çš„è®Šæ•¸æ¸…å–®ã€‚

## çµ‚ç«¯æ©Ÿé¡¯ç¤ºè¨­å®š

ä½ å¯ä»¥è‡ªè¨‚æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„å­—å‹ã€è¡Œé«˜â€¦ç­‰çš„è¨­å®šï¼š

* `terminal.integrated.fontFamily`
* `terminal.integrated.fontSize`
* `terminal.integrated.fontWeight`
* `terminal.integrated.fontWeightBold`
* `terminal.integrated.lineHeight`

## çµ‚ç«¯æ©Ÿå¿«æ·éµ

ã€Œæª¢è¦–ï¼šåˆ‡æ›æ•´åˆå¼çµ‚ç«¯æ©Ÿã€æŒ‡ä»¤é è¨­ç¶å®šåˆ°å¿«æ·éµ ![](https://i.imgur.com/izURn5b.png) è®“ä½ å¯ä»¥å¿«é€Ÿåˆ‡æ›é¡¯ç¤ºæ•´åˆå¼çµ‚ç«¯æ©Ÿã€‚

åº•ä¸‹æ˜¯åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­å¯ä»¥å¹«åŠ©ä½ å¿«é€Ÿç€è¦½çš„å¿«æ·éµæ¸…å–®ï¼š

| å¿«æ·éµ | æŒ‡ä»¤åç¨± | ä¸­æ–‡èªªæ˜ |
| ----: | ------ | -------- |
| ![](https://i.imgur.com/izURn5b.png) | Show integrated terminal | åˆ‡æ›é¡¯ç¤ºæ•´åˆå¼çµ‚ç«¯æ©Ÿ |
| ![](https://i.imgur.com/UFbMd2N.png) | Create new terminal | å»ºç«‹ä¸€å€‹æ–°çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿ |
| ![](https://i.imgur.com/sejSjJO.png) | Scroll up | å‘ä¸Šæ²å‹• |
| ![](https://i.imgur.com/cpMvV1H.png) | Scroll down | å‘ä¸‹æ²å‹• |
| ![](https://i.imgur.com/AuRe9sY.png) | Scroll page up | å‘ä¸Šæ²å‹•ä¸€é  |
| ![](https://i.imgur.com/zYymUri.png) | Scroll page down | å‘ä¸‹æ²å‹•ä¸€é  |
| ![](https://i.imgur.com/TaT3Dft.png) | Scroll to top | æ²å‹•åˆ°é ‚éƒ¨ |
| ![](https://i.imgur.com/8xPgXbo.png) | Scroll to bottom | æ²å‹•åˆ°åº•éƒ¨ |
| æœªå®šç¾© | Clear the terminal |  |

é™¤äº†ä»¥ä¸Šåˆ—å‡ºçš„é€™äº›çµ‚ç«¯æ©ŸæŒ‡ä»¤ä»¥å¤–ï¼Œä»¥ä¸‹é‚„æœ‰ä¸€äº›æŒ‡ä»¤å¯ä»¥è®“ä½ ç¶å®šåˆ°ä½ å–œæ­¡çš„å¿«æ·éµä¸Šé¢ï¼š

* `workbench.action.terminal.focus`: èšç„¦åœ¨çµ‚ç«¯æ©Ÿä¸Šã€‚å¦‚æœæ•´åˆå¼çµ‚ç«¯æ©Ÿæ²’æœ‰æ‰“é–‹çš„æ™‚å€™ï¼Œä¹Ÿæœƒå¹«ä½ æ‰“é–‹ã€‚
* `workbench.action.terminal.focusNext`: èšç„¦åœ¨ä¸‹ä¸€å€‹æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸Šã€‚
* `workbench.action.terminal.focusPrevious`: èšç„¦åœ¨ä¸Šä¸€å€‹æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸Šã€‚
* `workbench.action.terminal.focusAtIndexN`: èšç„¦åœ¨ç¬¬ N å€‹çµ‚ç«¯æ©Ÿä¸Š (N=1-9)ã€‚
* `workbench.action.terminal.kill`: åˆªé™¤ç›®å‰çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿã€‚
* `workbench.action.terminal.runSelectedText`: åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œç›®å‰æ‰€é¸æ“‡çš„æ–‡å­—ã€‚
* `workbench.action.terminal.runActiveFile`: åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œç›®å‰çš„æª”æ¡ˆã€‚

### è¤‡è£½å’Œè²¼ä¸Š

åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­ï¼Œè¤‡è£½è²¼ä¸Šçš„å¿«æ·éµå’Œç³»çµ±çš„æ…£ä¾‹æ˜¯ä¸€æ¨£çš„ï¼š

* Windows: ![](https://i.imgur.com/mxrKLXi.png) å’Œ ![](https://i.imgur.com/PRfcqlL.png)
* Linux: ![](https://i.imgur.com/GLNw2Rt.png) å’Œ ![](https://i.imgur.com/8BWxhQJ.png)
* macOS: ![](https://i.imgur.com/Sj2xHbr.png) å’Œ ![](https://i.imgur.com/RSR1MMJ.png)

### æ»‘é¼ å³éµçš„è¡Œç‚º

é è¨­çš„æ»‘é¼ å³éµè¡Œç‚ºæœƒæ ¹æ“šä½œæ¥­ç³»çµ±è€Œæœ‰æ‰€å·®ç•°ï¼š

* Linux: é¡¯ç¤ºå³éµé¸å–®
* macOS: é¸å–åœ¨æ»‘é¼ åº•ä¸‹çš„æ–‡å­—ä¸¦é¡¯ç¤ºå³éµé¸å–®
* Windows: å¦‚æœæœ‰é¸å–æ–‡å­—ï¼Œè¤‡è£½ç›®å‰æ‰€é¸å–çš„æ–‡å­—ä¸¦ä¸”å–æ¶ˆé¸å–ï¼Œå¦å‰‡è²¼ä¸Šæ–‡å­—ã€‚

ä½ å¯ä»¥é€é `terminal.integrated.rightClickBehavior` è¨­å®šä¾†èª¿æ•´æ»‘é¼ å³éµçš„è¡Œç‚ºã€‚

### å¼·åˆ¶å¿«æ·éµè·³éçµ‚ç«¯æ©Ÿ

ç•¶ä½ èšç„¦åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ™‚å€™ï¼Œæœ‰å¾ˆå¤šå¿«æ·éµéƒ½æœƒç›´æ¥å‚³éçµ¦çµ‚ç«¯æ©Ÿï¼Œç„¶å¾Œå°±ä¸æœƒåœ¨ vscode ä¸­ç”¢ç”Ÿæ•ˆæœï¼Œåœ¨è¨­å®šè£¡é¢æœ‰ä¸€å€‹å¯«æ­»çš„æ¸…å–®ï¼Œå¯ä»¥è¨­å®šæŸäº›æŒ‡ä»¤çš„å¿«æ·éµè¦è·³éçµ‚ç«¯æ©Ÿä¸¦ä¸”äº¤çµ¦ vscode è™•ç†æˆ–æ˜¯äº¤çµ¦çµ‚ç«¯æ©Ÿè™•ç†ï¼Œé€™å€‹æ¸…å–®å°±æ˜¯ `terminal.integrated.commandsToSkipShell`ã€‚ä½ å¯ä»¥æŠŠå¸Œæœ›åœ¨ vscode ä¸­ç”Ÿæ•ˆçš„æŒ‡ä»¤å¯«åœ¨é€™å€‹æ¸…å–®ä¸­ï¼Œå¦‚æœä½ è¦äº¤çµ¦çµ‚ç«¯æ©Ÿè™•ç†ï¼Œä½ å°±éœ€è¦åœ¨æŒ‡ä»¤å‰é¢åŠ ä¸Šä¸€å€‹æ¸›è™Ÿ `-`ã€‚

```js
{
  "terminal.integrated.commandsToSkipShell": [
    // ç¢ºä¿åˆ‡æ›æ•´åˆå¼çµ‚ç«¯æ©Ÿé¡¯ç¤ºæˆ–éš±è—çš„æŒ‡ä»¤æ˜¯çµ¦ vscode è™•ç†
    "workbench.action.toggleSidebarVisibility",
    // è®“å¿«é€Ÿé–‹å•Ÿçš„å¿«æ·éµäº¤çµ¦æ•´åˆå¼çµ‚ç«¯æ©Ÿè™•ç†
    "-workbench.action.quickOpen",
  ]
}
```

ä½ å¯ä»¥å¾è¨­å®šä¸­çœ‹åˆ° vscode é è¨­æŒ‡ä»¤æ¸…å–®çš„è©³ç´°å…§å®¹ã€‚

![](https://i.imgur.com/TYNEHIx.png)

### æœå°‹

æ•´åˆå¼çµ‚ç«¯æ©Ÿæœ‰ä¸€å€‹åŸºæœ¬çš„æœå°‹åŠŸèƒ½ï¼Œä½ å¯ä»¥ä½¿ç”¨ ![](https://i.imgur.com/t4Ot81d.png) ä¾†ä½¿ç”¨é€™å€‹åŠŸèƒ½ã€‚

å¦‚æœä½ å¸Œæœ› ![](https://i.imgur.com/t4Ot81d.png) çš„é€™å€‹å¿«æ·éµäº¤çµ¦çµ‚ç«¯æ©Ÿè™•ç†ï¼Œä½ éœ€è¦è‡ªè¡Œèª¿æ•´ä»¥ä¸‹çš„å¿«æ·éµè¨­å®šï¼š

```js
// Windows/Linux
{ "key": "ctrl+f", "command": "-workbench.action.terminal.focusFindWidget",
                      "when": "terminalFocus" },
// macOS
{ "key": "cmd+f",  "command": "-workbench.action.terminal.focusFindWidget",
                      "when": "terminalFocus" },
```

## åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œç›®å‰é¸å–çš„æ–‡å­—

å¦‚æœä½ æƒ³è¦ä½¿ç”¨ `runSelectedText` é€™å€‹æŒ‡ä»¤çš„è©±ï¼Œä½ éœ€è¦å…ˆé¸å–æ–‡å­—ï¼Œç„¶å¾Œé€éã€Œå°‹æ‰¾åŠåŸ·è¡Œæ‰€æœ‰å‘½ä»¤ã€![](https://i.imgur.com/EXvNZfc.png) ç„¶å¾Œè¼¸å…¥ `terminal` å°‹æ‰¾ä¸¦åŸ·è¡Œã€ŒTerminalï¼šåœ¨ä½¿ç”¨ä¸­çš„çµ‚ç«¯æ©ŸåŸ·è¡Œé¸å–çš„æ–‡å­—ã€æŒ‡ä»¤ã€‚

![](https://i.imgur.com/uyx6y7U.png)

![](https://i.imgur.com/vkbHok3.png)

## é€éå¿«æ·éµå‚³é€æ§åˆ¶å­—å…ƒçµ„åˆçµ¦çµ‚ç«¯æ©Ÿ

æœ‰ä¸€å€‹å«åš `workbench.action.terminal.sendSequence` çš„æŒ‡ä»¤å¯ä»¥ç”¨ä¾†å‚³é€ä¸€å€‹ç‰¹å®šçš„å­—ä¸²çµ¦çµ‚ç«¯æ©Ÿï¼Œè¦å‚³é€è·³è„«å­—å…ƒä¹Ÿæ²’å•é¡Œï¼ä½ å¯ä»¥ç”¨é€™å€‹åŠŸèƒ½ä¾†å‚³é€åƒæ˜¯æ–¹å‘éµã€Enterã€æ¸¸æ¨™ç§»å‹•â€¦ç­‰çš„æ§åˆ¶å­—å…ƒçµ„åˆã€‚åº•ä¸‹çš„ç¯„ä¾‹æ˜¯ç”¨ä¾†ç¤ºç¯„ä½ å¯ä»¥ç”¨é€™åŠŸèƒ½ä¾†é”æˆçš„äº‹æƒ…ï¼Œé€™å€‹æ§åˆ¶å­—å…ƒçµ„åˆæœƒè·³åˆ°ç›®å‰æ¸¸æ¨™å·¦é‚Šçš„å–®å­— (Ctrl+ğŸ¡°) ç„¶å¾Œåˆªé™¤ä¸€å€‹å­—å…ƒã€‚

```json
{
  "key": "ctrl+u",
  "command": "workbench.action.terminal.sendSequence",
  "args": { "text": "\u001b[1;5D\u007f" }
}
```

é€™åŠŸèƒ½ä¹Ÿæ”¯æ´ä½¿ç”¨è®Šæ•¸å–”ï¼ä½ å¯ä»¥åœ¨[é€™å€‹é€£çµ](https://code.visualstudio.com/docs/editor/variables-reference)çœ‹åˆ°å®Œæ•´å¯ç”¨çš„è®Šæ•¸æ¸…å–®ã€‚

è«‹æ³¨æ„é€™å€‹æŒ‡ä»¤åªèƒ½å¤ ä½¿ç”¨ `\u0000` æ ¼å¼çš„è·³è„«å­—å…ƒï¼Œä½¿ç”¨ `\x00` çš„æ ¼å¼æ˜¯æ²’æœ‰ç”¨çš„ã€‚ä½ å¯ä»¥å¾ä»¥ä¸‹çš„é€£çµæ‰¾åˆ°æ›´å¤šå¯ä»¥åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨çš„è·³è„«å­—å…ƒæ¸…å–®ï¼š

* [XTerm Control Sequences](http://invisible-island.net/xterm/ctlseqs/ctlseqs.html)
* [List of C0 and C1 control codes](https://github.com/xtermjs/xterm.js/blob/0e45909c7e79c83452493d2cd46d99c0a0bb585f/src/common/data/EscapeSequences.ts)

## å¹«æ•´åˆå¼çµ‚ç«¯æ©Ÿé‡æ–°å‘½å

ä½ å¯ä»¥ä½¿ç”¨ `workbench.action.terminal.rename` ä¾†å¹«ç›®å‰ä½¿ç”¨ä¸­çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿé‡æ–°å‘½åï¼Œåœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„ä¸‹æ‹‰é¸å–®å°±èƒ½æ¸…æ¥šè¾¨è­˜çµ‚ç«¯æ©Ÿçš„ç”¨é€”å–”ï¼ä½ åªé ˆé€éã€Œå°‹æ‰¾åŠåŸ·è¡Œæ‰€æœ‰å‘½ä»¤ã€![](https://i.imgur.com/EXvNZfc.png) ç„¶å¾Œè¼¸å…¥ `rename` å°‹æ‰¾ä¸¦åŸ·è¡Œã€ŒTerminalï¼šé‡æ–°å‘½åã€æŒ‡ä»¤å³å¯ã€‚

## æŒ‡å®šçµ‚ç«¯æ©Ÿé–‹å•Ÿä¸€å€‹ç‰¹å®šçš„è³‡æ–™å¤¾

æ•´åˆå¼çµ‚ç«¯æ©Ÿé è¨­æœƒé–‹å•Ÿç›®å‰å°ˆæ¡ˆçš„è³‡æ–™å¤¾ï¼Œä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨ `terminal.integrated.cwd` è¨­å®šä¾†ä¿®æ”¹çµ‚ç«¯æ©Ÿçš„é è¨­è³‡æ–™å¤¾ï¼š

```json
{
  "terminal.integrated.cwd": "/home/user"
}
```

å¦‚æœä½ ä½¿ç”¨äº†åˆ†å‰²çµ‚ç«¯æ©Ÿçš„åŠŸèƒ½ï¼Œå¦‚æœä½ æ˜¯ Windows çš„ä½¿ç”¨è€…ï¼Œæ–°çš„çµ‚ç«¯æ©Ÿé è¨­ç›®éŒ„æœƒåœ¨ä¹‹å‰çµ‚ç«¯æ©Ÿçš„åˆå§‹ç›®éŒ„ï¼Œå¦‚æœä½ æ˜¯ macOs å’Œ Linux çš„ä½¿ç”¨è€…ï¼Œé è¨­ç›®éŒ„å‰‡æœƒè·Ÿä½ ä¹‹å‰çš„çµ‚ç«¯æ©Ÿç•¶å‰ç›®éŒ„ä¸€æ¨£ã€‚é€™å€‹è¡Œç‚ºå¯ä»¥é€é `terminal.integrated.splitCwd` è¨­å®šé€²è¡Œä¿®æ”¹ï¼š

```json
{
  "terminal.integrated.splitCwd": "workspaceRoot"
}
```

å¦‚æœé€™å…©å€‹è¨­å®šä¸ç¬¦åˆä½ çš„éœ€æ±‚çš„è©±ï¼Œä½ å¯ä»¥è€ƒæ…®å®‰è£æ“´å……å¥—ä»¶ï¼ˆå¦‚ï¼š[Terminal Here](https://marketplace.visualstudio.com/items?itemName=Tyriar.vscode-terminal-here)ï¼‰ä¾†çµ¦ä½ æ›´å¤šå¯ç”¨çš„é¸é …ã€‚

## ç‚ºã€Œå·¥ä½œã€èˆ‡ã€Œé™¤éŒ¯ã€ç”¨é€”çš„çµ‚ç«¯æ©ŸæŒ‡å®šä¸åŒçš„ Shell

ä½ å¯ä»¥ä½¿ç”¨ `terminal.integrated.automationShell.<platform>` çš„è¨­å®šä¾†ç‚ºã€Œå·¥ä½œã€èˆ‡ã€Œé™¤éŒ¯ã€ç”¨é€”çš„çµ‚ç«¯æ©ŸæŒ‡å®šä¸åŒçš„ Shell å’Œ Shell çš„åƒæ•¸ï¼š

```js
{
  "terminal.integrated.shell.osx": "/usr/local/bin/fish",
  // ç‚ºã€Œå·¥ä½œã€èˆ‡ã€Œé™¤éŒ¯ã€ç”¨é€”çš„çµ‚ç«¯æ©ŸæŒ‡å®šä¸€å€‹
  // èˆ‡ POSIX å®Œæ•´ç›¸å®¹çš„ Shell ä¸¦ä¸”é¿å…åŸ·è¡Œè¤‡é›œçš„ ~/.fishrc è¨­å®šæª”
  "terminal.integrated.automationShell.osx": "/bin/sh"
}
```

## ä¿®æ”¹æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ¸²æŸ“æ–¹å¼

æ•´åˆå¼çµ‚ç«¯æ©Ÿé è¨­ä½¿ç”¨å¤šå€‹ `<canvas>` å…ƒç´ ä¾†é€²è¡Œæ¸²æŸ“ï¼Œé€šå¸¸ç”¨ `<canvas>` æ¸²æŸ“çš„æ–¹å¼å¾ˆé©åˆç”¨åœ¨åƒçµ‚ç«¯æ©Ÿé€™æ¨£é »ç¹æ›´æ”¹å…§å®¹çš„æƒ…æ³ï¼Œç„¶è€Œï¼Œæœ‰æ™‚å€™ Electron/Chromium åœ¨æŸäº›ç’°å¢ƒä¸‹ç”¨é€™ç¨®æ–¹å¼æœƒè®Šå¾—éå¸¸æ…¢ï¼Œæ‰€ä»¥ vscode æä¾›äº†ä¸€å€‹æ›¿ä»£æ–¹æ¡ˆï¼Œå°±æ˜¯ä½¿ç”¨ DOM çš„æ–¹å¼ä¾†æ¸²æŸ“æ•´åˆå¼çµ‚ç«¯æ©Ÿã€‚ç•¶ vscode ç™¼ç¾æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ•ˆèƒ½å¾ˆå·®çš„æ™‚å€™ï¼Œå°±æœƒè©¢å•ä½ æ˜¯å¦è¦åˆ‡æ›æˆ DOM çš„é€™ç¨®æ›¿ä»£æ–¹æ¡ˆé€²è¡Œæ¸²æŸ“ã€‚ä½ ä¹Ÿå¯ä»¥ç›´æ¥é€éä¿®æ”¹ `terminal.integrated.rendererType` è¨­å®šä¾†å•Ÿç”¨é€™å€‹æ›¿ä»£æ–¹æ¡ˆï¼š

```json
{
  "terminal.integrated.rendererType": "dom"
}
```

é‚„æœ‰ä¸€å€‹æ–¹æ³•å¯èƒ½å¯ä»¥åŠ å¿«æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ•ˆèƒ½ï¼Œå°±æ˜¯åœ¨å•Ÿå‹• vscode çš„æ™‚å€™é€éå¢åŠ ä¸€å€‹åƒæ•¸ä¾†å¿½ç•¥ Chromium çš„ GPU ç¦æ­¢ä½¿ç”¨é»‘åå–®ï¼š`code --ignore-gpu-blacklist`ã€‚

## ä¸‹ä¸€æ­¥

çµ‚ç«¯æ©Ÿçš„åŸºæœ¬åŠŸèƒ½æˆ‘å€‘åœ¨é€™å€‹ç³»åˆ—çš„æ–‡ç« ä¸­éƒ½å·²ç¶“ä»‹ç´¹éäº†ï¼Œå¦‚æœé‚„éœ€è¦æ›´é€²éšçš„å…§å®¹ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹çš„é€£çµï¼š

* [å·¥ä½œ Task](https://code.visualstudio.com/docs/editor/tasks): å¯ä»¥è®“ä½ æŠŠå¤–éƒ¨å·¥å…·æ•´åˆåˆ° vscode ä¸­ä¸¦ä¸”å¤§å¤§çš„å¢å¼·çµ‚ç«¯æ©Ÿï¼
* [ç²¾é€š VS Code çš„çµ‚ç«¯æ©Ÿ](https://www.growingwiththeweb.com/2017/03/mastering-vscodes-terminal.html): ä¸€ç¯‡è£¡é¢æœ‰å¾ˆå¤šçµ‚ç«¯æ©Ÿå¤§å¸«ç´šæŠ€å·§çš„å¤–éƒ¨æ–‡ç« ï¼
* å¾ `keybindings.json` ä¸­æŸ¥çœ‹æ‰€æœ‰ç‚ºçµ‚ç«¯æ©Ÿæä¾›çš„å…¶ä»–å¿«æ·éµ

## å¸¸è¦‹å•é¡Œ

### æˆ‘èƒ½å¤ åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä½¿ç”¨ Windows Subsystem for Linux å—ï¼Ÿ

ç•¶ç„¶å¯ä»¥ï¼ä½ å¯ä»¥é¸æ“‡ä½¿ç”¨ [Windows Subsystem for Linux](https://docs.microsoft.com/windows/wsl/install-win10) (WSL) çš„ Bash Shell ä½œç‚ºä½ çš„é è¨­çµ‚ç«¯æ©Ÿã€‚å¦‚æœä½ å·²ç¶“æœ‰é€é Windows åŠŸèƒ½å•Ÿç”¨äº† WSLï¼Œä½ å°±å¯ä»¥å¾ã€Œçµ‚ç«¯æ©Ÿï¼šé¸æ“‡é è¨­ Shellã€çš„æŒ‡ä»¤ä¸­é¸æ“‡ WSL Bashã€‚ä½ å¯ä»¥å¾ [Developing in WSL](https://code.visualstudio.com/docs/remote/wsl) æ‰¾åˆ°æ›´å¤šæœ‰é—œ WSL åŠ [Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) æ“´å……å¥—ä»¶çš„æ›´å¤šèªªæ˜ã€‚

### ç‚ºä»€éº¼æˆ‘æœ‰äº› VS Code çš„å¿«æ·éµç•¶èšç„¦åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿæ™‚ä¸èƒ½ä½¿ç”¨ï¼Ÿ

ç›®å‰æ•´åˆå¼çµ‚ç«¯æ©ŸæœƒæŠŠå¾ˆå¤šå¿«æ·éµæˆªç•™ä¸‹ä¾†è™•ç†ï¼Œæ‰€ä»¥ VS Code å°±ä¸æœƒå°é€™äº›å¿«æ·éµç”¢ç”Ÿåæ‡‰ã€‚åƒæ˜¯ç”¨ä¾†æ‰“é–‹ã€Œå°‹æ‰¾åŠåŸ·è¡Œæ‰€æœ‰å‘½ä»¤ã€çš„å¿«æ·éµ ![](https://i.imgur.com/jQU9fk7.png) å’Œåœ¨ Linux å’Œ Windows ä¸­ç”¨ä¾†å¿«é€Ÿé–‹å•Ÿæª”æ¡ˆçš„ ![](https://i.imgur.com/vh7hLqB.png) éƒ½æœƒåœ¨é€™æƒ…æ³ä¸‹å¤±æ•ˆã€‚æ•´åˆå¼çµ‚ç«¯æ©Ÿå› ç‚ºæ˜¯ç´”éµç›¤çš„ç’°å¢ƒï¼Œæ‰€ä»¥å®ƒæœ‰å¿…è¦æŠŠå¾ˆå¤šå¿«æ·éµæˆªç•™ä¸‹ä¾†è™•ç†ã€‚ä½ å¯ä»¥é€é `terminal.integrated.commandsToSkipShell` çš„è¨­å®šä¾†é¿å…å¿«æ·éµè¢«çµ‚ç«¯æ©Ÿæˆªç•™ä¸‹ä¾†ã€‚

### åœ¨ Windows 10 ä¸Šçš„æ•´åˆå¼çµ‚ç«¯æ©Ÿç‚ºä»€éº¼æœƒä»¥ç•°å¸¸ä»£ç¢¼ 1 çµæŸï¼Ÿ

é€™é€šå¸¸æ˜¯å› ç‚º VS Code è¢«ä½¿ç”¨ç›¸å®¹æ¨¡å¼åŸ·è¡Œï¼Œé€šå¸¸ä½ åœ¨å‡ç´šä½ çš„ Windows å¾Œï¼ŒVS Code å°±æœ‰å¯èƒ½è¢«é–‹å•Ÿç›¸å®¹æ¨¡å¼ã€‚ä½ å¯ä»¥å° VS Code åŸ·è¡Œæª”æŒ‰å³éµé€²åˆ°å…§å®¹ä¸­ï¼Œä¸¦åœ¨ç›¸å®¹æ€§çš„åˆ†é ä¸­å–æ¶ˆã€Œä»¥ç›¸å®¹æ¨¡å¼åŸ·è¡Œé€™å€‹ç¨‹å¼ã€ã€‚

### æˆ‘å¯ä»¥åœ¨ Windows ä¸­çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿä½¿ç”¨ Cmder çš„ Shell å—ï¼Ÿ

ç•¶ç„¶å¯ä»¥ï¼Œè¦åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨ [Cmder](http://cmder.net/)ï¼Œä½ éœ€è¦åœ¨ `settings.json` ä¸­é€éä»¥ä¸‹çš„è¨­å®šä¾†èª¿æ•´ï¼š

```json
"terminal.integrated.shell.windows": "C:\\WINDOWS\\System32\\cmd.exe",
"terminal.integrated.shellArgs.windows": ["/K", "C:\\cmder\\vendor\\init.bat"]
```

æ›´å¤šè©³ç´°çš„è¨­å®šä½ å¯ä»¥åƒè€ƒ [Cmder çš„ç¶­åŸºç™¾ç§‘](https://github.com/cmderdev/cmder/wiki/Seamless-VS-Code-Integration)ã€‚

### åœ¨ macOS ä¸­çš„ Powershell ä¸€ç›´åœ¨æŠ±æ€¨ `-l` çš„åƒæ•¸ï¼Œè©²å¦‚ä½•ä¿®æ­£ï¼Ÿ

ç•¶ä½ åœ¨ macOS çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­æŒ‡å®šä½¿ç”¨ Powershell æ™‚ï¼Œä½ æœƒé‡åˆ°[é€™å€‹éŒ¯èª¤](https://github.com/Microsoft/vscode/issues/33022)ï¼Œå®ƒæœƒä¸€ç›´åœ¨æŠ±æ€¨ä¸€å€‹ `-l` çš„åƒæ•¸ï¼Œå› ç‚ºåœ¨ Unix-like çš„ Shellï¼ˆå¦‚ï¼šbash, zshâ€¦ï¼‰ä¸­ï¼Œéœ€è¦åŠ ä¸Šé€™å€‹åƒæ•¸ï¼Œæ‰æœƒè®“ Shell åƒä¸€å€‹ç™»å…¥çš„ Shell ä¸€æ¨£å¥—ç”¨ä½¿ç”¨è€…çš„è¨­å®šæª”ã€‚è¦ä¿®æ­£é€™å€‹éŒ¯èª¤ï¼Œä½ å¿…é ˆé€é `terminal.integrated.shellArgs.osx` çš„è¨­å®šä¾†æŠŠé è¨­çš„ `-l` åƒæ•¸è¦†è“‹å¦‚ä¸‹ï¼š

```json
"terminal.integrated.shellArgs.osx": []
```

### åœ¨ Windows ä¸­æˆ‘è¦å¦‚ä½•æŠŠé è¨­çš„æ•´åˆå¼çµ‚ç«¯æ©Ÿæ”¹å› Powershellï¼Ÿ

å¦‚æœä½ åœ¨ Windows ä¸­å¸Œæœ›æŠŠæ•´åˆå¼çµ‚ç«¯æ©Ÿé è¨­çš„ Shell æ”¹å› Powershellï¼Œä½ å¯ä»¥é€éä½¿ç”¨è€…è¨­å®šç§»é™¤ `terminal.integrated.shell.windows`ã€‚

èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœä½ æ›¾ç¶“æŠŠé è¨­çš„ Shell è¨­å®šæˆ bashï¼Œä½ å°‡æœƒçœ‹åˆ°ä½¿ç”¨è€…è¨­å®šæœ‰åƒæ˜¯é€™æ¨£çš„è¨­å®šå€¼ï¼š

```json
"terminal.integrated.shell.windows": "C:\\WINDOWS\\System32\\bash.exe",
```

ä½ åªè¦æŠŠé€™è¡Œè¨­å®šç§»é™¤ï¼Œå°±æœƒå›å»ä½¿ç”¨é è¨­çš„é¸é …ï¼Œæˆ–æ˜¯ä½ ä¹Ÿå¯ä»¥æŒ‡å®šæˆå…¶ä»–çš„ Shell çš„åŸ·è¡Œæª”å®Œæ•´è·¯å¾‘ã€‚

### åœ¨ 64 ä½å…ƒçš„ Windows ä¸­ 32 ä½å…ƒçš„ VS Code ç‚ºä»€éº¼ä¸èƒ½åŸ·è¡Œæ•´åˆå¼çµ‚ç«¯æ©Ÿï¼Ÿ

æœ€ç°¡å–®çš„ä¿®æ­£æ–¹æ³•å°±æ˜¯æ”¹ç”¨ 64 ä½å…ƒçš„ VS Codeã€‚å¦‚æœä½ æœ‰éç”¨ 32 ä½å…ƒ VS Code çš„ç†ç”±ï¼Œé‚£ä½ å¯ä»¥è€ƒæ…®æŠŠ Shell çš„è·¯å¾‘æ”¹ç”¨ `sysnative` çš„è·¯å¾‘ï¼ˆè€Œéä½¿ç”¨ `System32`ï¼‰ï¼š

```json
"terminal.integrated.shell.windows": "C:\\WINDOWS\\sysnative\\cmd.exe",
```

### ç‚ºä»€éº¼ Cmd+K/Ctrl+K æ²’æœ‰æ¸…ç©ºçµ‚ç«¯æ©Ÿï¼Ÿ

å¿«æ·éµ ![](https://i.imgur.com/aChJM0D.png) é è¨­å¯ä»¥æŠŠçµ‚ç«¯æ©Ÿçš„å…§å®¹æ¸…ç©ºï¼Œä½†æ˜¯å¾ˆå®¹æ˜“æœƒå› ç‚ºå®‰è£äº†å…¶ä»–æ“´å……å¥—ä»¶æˆ–æ˜¯ç”¨æˆ¶çš„å¿«æ·éµå°è‡´é€™å€‹åŠŸèƒ½å¤±æ•ˆã€‚åœ¨ VS Code ä¸­ï¼Œå¿«æ·éµè¨­å®šçš„å„ªå…ˆé †åºç‚ºï¼šã€Œä½¿ç”¨è€…ã€>ã€Œæ“´å……å¥—ä»¶ã€>ã€Œé è¨­å€¼ã€ã€‚å¦‚æœè¦ä¿®æ­£é€™å€‹å•é¡Œï¼Œä½ å¯ä»¥åœ¨ä½ çš„ä½¿ç”¨è€…å¿«æ·éµè¨­å®š `keybindings.json` çš„å¾Œé¢ç›´æ¥æ–°å¢ä»¥ä¸‹çš„è¨­å®šï¼š

```json
// macOS
{ "key": "cmd+k", "command": "workbench.action.terminal.clear", "when": "terminalFocus" },

// windows
{ "key": "ctrl+k", "command": "workbench.action.terminal.clear", "when": "terminalFocus" },
```

### ç‚ºä»€éº¼æ•´åˆå¼çµ‚ç«¯æ©Ÿåœ¨å•Ÿå‹•çš„æ™‚å€™ nvm ç¸½æ˜¯æœƒå‡ºç¾ prefix é¸é …çš„éŒ¯èª¤ï¼Ÿ

nvm (Node Version Manager) çš„ä½¿ç”¨è€…åœ¨å•Ÿå‹•æ•´åˆå¼çµ‚ç«¯æ©Ÿçš„æ™‚å€™é€šå¸¸æœƒçœ‹åˆ°ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ï¼š

```
nvm is not compatible with the npm config "prefix" option: currently set to "/usr/local"
Run `npm config delete prefix` or `nvm use --delete-prefix v8.9.1 --silent` to unset it
```

é€™å€‹å•é¡Œé€šå¸¸éƒ½åªæœ‰ macOS çš„ä½¿ç”¨è€…æ‰æœƒé‡åˆ°ï¼Œè€Œä¸”ä½¿ç”¨å¤–éƒ¨çµ‚ç«¯æ©Ÿé–‹å•Ÿçš„æ™‚å€™ä¸æœƒæœ‰é€™å€‹å•é¡Œï¼Œå¸¸è¦‹çš„å¯èƒ½åŸå› ç‚ºï¼š

* `npm` æ˜¯ä½¿ç”¨å¦ä¸€å€‹ `node` ä¾†å…¨åŸŸå®‰è£çš„ï¼Œé€™å€‹å¦å¤–çš„ `node` å¯èƒ½ä½æ–¼ `$PATH` ç’°å¢ƒè®Šæ•¸ä¸­çš„å…¶ä»–è³‡æ–™å¤¾ä¸­ã€‚ï¼ˆä¾‹å¦‚ï¼š`/usr/local/bin/npm`ï¼‰
* VS Code ç‚ºäº†å–å¾—åœ¨ç’°å¢ƒè®Šæ•¸ä¸­ `$PATH` ä¸­çš„é–‹ç™¼å·¥å…·ï¼Œå®ƒæœƒåœ¨å•Ÿå‹•æ™‚åŒæ™‚å•Ÿå‹•ä¸€å€‹ bash shellï¼Œé€™ä»£è¡¨èªª `~/.bash_profile` å·²ç¶“è¢«åŸ·è¡Œéäº†ï¼Œç•¶ä½ é–‹å•Ÿæ•´åˆå¼çµ‚ç«¯æ©Ÿæ™‚ï¼Œå®ƒåˆæœƒåŸ·è¡Œä¸€å€‹ login shellï¼Œé€™å¯èƒ½æœƒé€ æˆ `$PATH` ä¸­çš„è·¯å¾‘å‡ºç¾ä¸æ­£ç¢ºçš„é †åºã€‚

è¦è§£æ±ºé€™å€‹å•é¡Œï¼Œä½ å¿…é ˆæ‰¾åˆ°æœ‰å•é¡Œçš„ `npm` çš„å®‰è£è·¯å¾‘ï¼Œä¸¦ä¸”æŠŠå®ƒé€£åŒæœ‰å•é¡Œçš„ `node_modules` ä¸€èµ·ç§»é™¤ï¼Œä½ å¯ä»¥é€éå°‹æ‰¾ nvm çš„å•Ÿå‹•æŒ‡ä»¤ï¼Œä¸¦ä¸”åœ¨æŒ‡ä»¤åŸ·è¡Œå‰å…ˆåŸ·è¡Œ `which npm` ä¾†æ‰¾åˆ°æœ‰å•é¡Œçš„ `npm` ä½ç½®æ‰€åœ¨ã€‚

åªè¦ä½ æ‰¾åˆ°äº†æœ‰å•é¡Œçš„ npm è·¯å¾‘ï¼Œä½ å°±å¯ä»¥å¦‚ä¸‹çš„æŒ‡ä»¤ä¾†è§£æ symlink ä¸¦æ‰¾åˆ°æœ‰å•é¡Œçš„ node_modulesï¼š

```bash
ls -la /usr/local/bin | grep "np[mx]"
```

é€™å€‹æŒ‡ä»¤å°‡æœƒå‘Šè¨´ä½ é€™å€‹ symlink å¯¦éš›ä¸ŠæœƒæŒ‡å‘ä½•è™•ï¼š

```
... npm -> ../lib/node_modules/npm/bin/npm-cli.js
... npx -> ../lib/node_modules/npm/bin/npx-cli.js
```

ç„¶å¾Œä½ å°±å¯ä»¥é€éç§»é™¤é€™äº›æª”æ¡ˆä¸¦é‡é–‹ VS Code ä¾†è§£æ±ºé€™å€‹éŒ¯èª¤ï¼š

```bash
rm -R /usr/local/bin/npm /usr/local/lib/node_modules/npm/bin/npm-cli.js
rm -R /usr/local/bin/npx /usr/local/lib/node_modules/npm/bin/npx-cli.js
```

### æˆ‘å¯ä»¥åœ¨æ•´åˆå¼çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨ Powerline å­—å‹å—ï¼Ÿ

ç•¶ç„¶å¯ä»¥ï¼ä½ å¯ä»¥é€é `terminal.integrated.fontFamily` è¨­å®šä¾†æŒ‡å®šä½¿ç”¨ [Powerline](https://powerline.readthedocs.io/) å­—å‹ã€‚

```json
"terminal.integrated.fontFamily": "Meslo LG M DZ for Powerline"
```

é€™è£¡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ æ‰€æŒ‡å®šçš„åå­—å¿…é ˆæ˜¯å­—å‹å®¶æ—çš„åç¨±ï¼Œè€Œä¸æ˜¯è©²å­—å‹å®¶æ—ä¸­çš„æŸå€‹å­å­—å‹ï¼Œå› ç‚ºä½ å¦‚æœæŒ‡å®šæˆäº†è©²å­—å‹å®¶æ—ä¸­çš„æŸå€‹å­å­—å‹ï¼ˆå¦‚ï¼š`Meslo LG M DZ Regular for Powerline`ï¼‰ï¼Œé€™å€‹å­å­—å‹æ˜¯ `Regular`ï¼Œæ‰€ä»¥ä½ çš„å…¨éƒ¨æ–‡å­—å°±éƒ½åªæœƒæ˜¯ `Regular` çš„ç²—ç´°ï¼

### ç•¶æˆ‘åœ¨ macOS ä¸Šä½¿ç”¨ zsh æ™‚ï¼Œæˆ‘è©²æ€éº¼ä½¿ç”¨ Ctrl+Left/Right ä¾†è·³å–®å­—ï¼Ÿ

åœ¨ bash ä¸­ï¼Œä½ é è¨­å¯ä»¥ä½¿ç”¨ ![](https://i.imgur.com/BCnoMmb.png) å’Œ ![](https://i.imgur.com/Z0Heyac.png) çš„å¿«æ·éµä¾†è®“ä½ çš„æ¸¸æ¨™è·³å–®å­—ï¼Œä½†æ˜¯åœ¨ zsh ä¸­ä½ éœ€è¦é€éä¿®æ”¹ä»¥ä¸‹çš„è¨­å®šæ‰èƒ½é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼š

```json
{
  "key": "ctrl+left",
  "command": "workbench.action.terminal.sendSequence",
  "args": { "text": "\u001bb" }
},
{
  "key": "ctrl+right",
  "command": "workbench.action.terminal.sendSequence",
  "args": { "text": "\u001bf" }
}
```

### æˆ‘è¦å¦‚ä½•ä¿®æ­£ `ConnectNamedPipe failed: Windows error 232` çš„éŒ¯èª¤ï¼Ÿ

é€™å€‹å•é¡Œé€šå¸¸æ˜¯ç”±é˜²æ¯’è»Ÿé«”æ‰€å¼•èµ·çš„ï¼Œé˜²æ¯’è»Ÿé«”æœƒç¦æ­¢ winpty ç¨‹å¼ä¾†æ“·å– pty çš„è¼¸å…¥è¼¸å‡ºï¼Œå¦‚æœè¦è§£æ±ºé€™å€‹éŒ¯èª¤ï¼Œä½ éœ€è¦æŠŠä»¥ä¸‹çš„ç¨‹å¼åŠ åˆ°é˜²æ¯’è»Ÿé«”çš„æ’é™¤æ¸…å–®å…§ï¼š

```
<install_path>\resources\app\node_modules.asar.unpacked\node-pty\build\Release\winpty-agent.exe
```

### ç‚ºä»€éº¼æˆ‘çš„çµ‚ç«¯æ©Ÿæœƒå‡ºç¾ä¸€å€‹å½©è‰²çš„ä¸‰è§’å½¢æˆ–æ˜¯å…¨é»‘çš„é•·æ–¹å½¢ï¼Ÿ

çµ‚ç«¯æ©Ÿåœ¨æŸäº›ç’°å¢ƒä¸‹æœƒå‡ºç¾ä¸€äº›æ¸²æŸ“å•é¡Œï¼Œä¾‹å¦‚ä½ æœ‰å¯èƒ½æœƒçœ‹åˆ°ä¸€å€‹å·¨å¤§çš„å½©è‰²ä¸‰è§’å½¢ï¼Œè€Œçœ‹ä¸åˆ°æ–‡å­—ï¼Œé€™é€šå¸¸æ˜¯å› ç‚ºé©…å‹•ç¨‹å¼æˆ–æ˜¯é¡¯ç¤ºå¡æ‰€é€ æˆçš„å•é¡Œï¼Œè€Œä¸”åœ¨ Chromium ä¸­ä¹Ÿæœƒæœ‰ä¸€æ¨£çš„å•é¡Œï¼Œä½ å¯ä»¥åœ¨å•Ÿå‹• `code` çš„æ™‚å€™åŠ ä¸Š `--disable-gpu` çš„åƒæ•¸ï¼Œæˆ–æ˜¯é€éä¿®æ”¹ `"terminal.integrated.rendererType": "dom"` è¨­å®šä¾†é¿å…ä½¿ç”¨ `<canvas>` çš„æ–¹å¼ä¾†æ¸²æŸ“çµ‚ç«¯æ©Ÿã€‚
